ARM GAS  C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"math_filter.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Libraries/ctrl_sdk/src/math_filter.c"
  18              		.global	__aeabi_fmul
  19              		.global	__aeabi_fdiv
  20              		.global	__aeabi_fadd
  21              		.section	.text.math_lpf_1st_init,"ax",%progbits
  22              		.align	1
  23              		.global	math_lpf_1st_init
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  28              	math_lpf_1st_init:
  29              	.LVL0:
  30              	.LFB0:
   1:Libraries/ctrl_sdk/src/math_filter.c **** /* Includes ------------------------------------------------------------------*/
   2:Libraries/ctrl_sdk/src/math_filter.c **** #include "math_filter.h"
   3:Libraries/ctrl_sdk/src/math_filter.c **** /* Private define ------------------------------------------------------------*/
   4:Libraries/ctrl_sdk/src/math_filter.c **** /* Private macro -------------------------------------------------------------*/
   5:Libraries/ctrl_sdk/src/math_filter.c **** /* Private typedef -----------------------------------------------------------*/
   6:Libraries/ctrl_sdk/src/math_filter.c **** /* Private variables ---------------------------------------------------------*/
   7:Libraries/ctrl_sdk/src/math_filter.c **** /* Private function prototypes -----------------------------------------------*/
   8:Libraries/ctrl_sdk/src/math_filter.c **** /* Private functions ---------------------------------------------------------*/
   9:Libraries/ctrl_sdk/src/math_filter.c **** void math_lpf_1st_init(math_lpf_1st_t *f, float sample_freq, float cutoff_freq)
  10:Libraries/ctrl_sdk/src/math_filter.c **** {
  31              		.loc 1 10 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 10 1 is_stmt 0 view .LVU1
  36 0000 70B5     		push	{r4, r5, r6, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 16
  39              		.cfi_offset 4, -16
  40              		.cfi_offset 5, -12
  41              		.cfi_offset 6, -8
  42              		.cfi_offset 14, -4
  43 0002 0446     		mov	r4, r0
  44 0004 0D46     		mov	r5, r1
  11:Libraries/ctrl_sdk/src/math_filter.c **** 	float rc = 1.0f / (2.0f * DEF_PI * cutoff_freq); // RC值
  45              		.loc 1 11 2 is_stmt 1 view .LVU2
  46              		.loc 1 11 35 is_stmt 0 view .LVU3
  47 0006 0E49     		ldr	r1, .L3
ARM GAS  C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s 			page 2


  48              	.LVL1:
  49              		.loc 1 11 35 view .LVU4
  50 0008 1046     		mov	r0, r2
  51              	.LVL2:
  52              		.loc 1 11 35 view .LVU5
  53 000a FFF7FEFF 		bl	__aeabi_fmul
  54              	.LVL3:
  55              		.loc 1 11 35 view .LVU6
  56 000e 0146     		mov	r1, r0
  57              		.loc 1 11 8 view .LVU7
  58 0010 4FF07E50 		mov	r0, #1065353216
  59 0014 FFF7FEFF 		bl	__aeabi_fdiv
  60              	.LVL4:
  61 0018 0646     		mov	r6, r0
  62              	.LVL5:
  12:Libraries/ctrl_sdk/src/math_filter.c **** 	float dt = 1.0f / sample_freq; // 采样时间间隔
  63              		.loc 1 12 2 is_stmt 1 view .LVU8
  64              		.loc 1 12 8 is_stmt 0 view .LVU9
  65 001a 2946     		mov	r1, r5
  66 001c 4FF07E50 		mov	r0, #1065353216
  67              	.LVL6:
  68              		.loc 1 12 8 view .LVU10
  69 0020 FFF7FEFF 		bl	__aeabi_fdiv
  70              	.LVL7:
  71 0024 0546     		mov	r5, r0
  72              	.LVL8:
  13:Libraries/ctrl_sdk/src/math_filter.c **** 	f->alpha = dt / (rc + dt); // 滤波器系数
  73              		.loc 1 13 2 is_stmt 1 view .LVU11
  74              		.loc 1 13 22 is_stmt 0 view .LVU12
  75 0026 0146     		mov	r1, r0
  76 0028 3046     		mov	r0, r6
  77              	.LVL9:
  78              		.loc 1 13 22 view .LVU13
  79 002a FFF7FEFF 		bl	__aeabi_fadd
  80              	.LVL10:
  81              		.loc 1 13 22 view .LVU14
  82 002e 0146     		mov	r1, r0
  83              		.loc 1 13 16 view .LVU15
  84 0030 2846     		mov	r0, r5
  85 0032 FFF7FEFF 		bl	__aeabi_fdiv
  86              	.LVL11:
  87              		.loc 1 13 11 view .LVU16
  88 0036 2060     		str	r0, [r4]	@ float
  14:Libraries/ctrl_sdk/src/math_filter.c **** 	f->prev = 0.0f;
  89              		.loc 1 14 2 is_stmt 1 view .LVU17
  90              		.loc 1 14 10 is_stmt 0 view .LVU18
  91 0038 0023     		movs	r3, #0
  92 003a 6360     		str	r3, [r4, #4]	@ float
  15:Libraries/ctrl_sdk/src/math_filter.c **** }
  93              		.loc 1 15 1 view .LVU19
  94 003c 70BD     		pop	{r4, r5, r6, pc}
  95              	.LVL12:
  96              	.L4:
  97              		.loc 1 15 1 view .LVU20
  98 003e 00BF     		.align	2
  99              	.L3:
 100 0040 DB0FC940 		.word	1086918619
ARM GAS  C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s 			page 3


 101              		.cfi_endproc
 102              	.LFE0:
 104              		.global	__aeabi_fsub
 105              		.section	.text.math_lpf_1st_apply,"ax",%progbits
 106              		.align	1
 107              		.global	math_lpf_1st_apply
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	math_lpf_1st_apply:
 113              	.LVL13:
 114              	.LFB1:
  16:Libraries/ctrl_sdk/src/math_filter.c **** 
  17:Libraries/ctrl_sdk/src/math_filter.c **** inline float math_lpf_1st_apply(math_lpf_1st_t *f, float input)
  18:Libraries/ctrl_sdk/src/math_filter.c **** {
 115              		.loc 1 18 1 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119              		.loc 1 18 1 is_stmt 0 view .LVU22
 120 0000 70B5     		push	{r4, r5, r6, lr}
 121              	.LCFI1:
 122              		.cfi_def_cfa_offset 16
 123              		.cfi_offset 4, -16
 124              		.cfi_offset 5, -12
 125              		.cfi_offset 6, -8
 126              		.cfi_offset 14, -4
 127 0002 0446     		mov	r4, r0
  19:Libraries/ctrl_sdk/src/math_filter.c **** 	float output = f->alpha * input + (1 - f->alpha) * f->prev;
 128              		.loc 1 19 2 is_stmt 1 view .LVU23
 129              		.loc 1 19 18 is_stmt 0 view .LVU24
 130 0004 0668     		ldr	r6, [r0]	@ float
 131              		.loc 1 19 26 view .LVU25
 132 0006 3046     		mov	r0, r6
 133              	.LVL14:
 134              		.loc 1 19 26 view .LVU26
 135 0008 FFF7FEFF 		bl	__aeabi_fmul
 136              	.LVL15:
 137              		.loc 1 19 26 view .LVU27
 138 000c 0546     		mov	r5, r0
 139              		.loc 1 19 39 view .LVU28
 140 000e 3146     		mov	r1, r6
 141 0010 4FF07E50 		mov	r0, #1065353216
 142 0014 FFF7FEFF 		bl	__aeabi_fsub
 143              	.LVL16:
 144              		.loc 1 19 51 view .LVU29
 145 0018 6168     		ldr	r1, [r4, #4]	@ float
 146 001a FFF7FEFF 		bl	__aeabi_fmul
 147              	.LVL17:
 148 001e 0146     		mov	r1, r0
 149              		.loc 1 19 8 view .LVU30
 150 0020 2846     		mov	r0, r5
 151 0022 FFF7FEFF 		bl	__aeabi_fadd
 152              	.LVL18:
  20:Libraries/ctrl_sdk/src/math_filter.c **** 	f->prev = output;
 153              		.loc 1 20 2 is_stmt 1 view .LVU31
 154              		.loc 1 20 10 is_stmt 0 view .LVU32
ARM GAS  C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s 			page 4


 155 0026 6060     		str	r0, [r4, #4]	@ float
  21:Libraries/ctrl_sdk/src/math_filter.c **** 	return output;
 156              		.loc 1 21 2 is_stmt 1 view .LVU33
  22:Libraries/ctrl_sdk/src/math_filter.c **** }
 157              		.loc 1 22 1 is_stmt 0 view .LVU34
 158 0028 70BD     		pop	{r4, r5, r6, pc}
 159              		.loc 1 22 1 view .LVU35
 160              		.cfi_endproc
 161              	.LFE1:
 163              		.text
 164              	.Letext0:
 165              		.file 2 "Libraries/ctrl_sdk/inc/math_filter.h"
ARM GAS  C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 math_filter.c
C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s:22     .text.math_lpf_1st_init:00000000 $t
C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s:28     .text.math_lpf_1st_init:00000000 math_lpf_1st_init
C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s:100    .text.math_lpf_1st_init:00000040 $d
C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s:106    .text.math_lpf_1st_apply:00000000 $t
C:\Users\Mxuan\AppData\Local\Temp\ccU3DBk7.s:112    .text.math_lpf_1st_apply:00000000 math_lpf_1st_apply

UNDEFINED SYMBOLS
__aeabi_fmul
__aeabi_fdiv
__aeabi_fadd
__aeabi_fsub
